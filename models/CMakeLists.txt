cmake_minimum_required(VERSION 2.9)
project(sensor_models)
add_subdirectory(LucidControl)
add_subdirectory(Simulator)
add_subdirectory(ZBSensor)
add_subdirectory(LeyboldCenterOne)

IF(OPENCV)
FILE(REMOVE camera/ShapeSim/UnitServerIgnore)
FILE(REMOVE camera/CameraShared/UnitServerIgnore)
add_subdirectory(camera/ShapeSim)
add_subdirectory(camera/CameraShared)

ELSE()
FILE(WRITE camera/ShapeSim/UnitServerIgnore "disabled ${PROJECT_NAME}")
FILE(WRITE camera/CameraShred/UnitServerIgnore "disabled ${PROJECT_NAME}")

ENDIF()

IF (BASLER)
  MESSAGE(STATUS "Adding Basler Support")
  add_subdirectory(camera/Basler)
  FILE(REMOVE camera/Basler/UnitServerIgnore)
ELSE()
  FILE(WRITE camera/Basler/UnitServerIgnore "disabled ${PROJECT_NAME}")
ENDIF()

IF(ARAVIS)
MESSAGE(STATUS "Adding Aravis Support")
  add_subdirectory(camera/aravis)
FILE(REMOVE camera/aravis/UnitServerIgnore)
ELSE()
FILE(WRITE camera/aravis/UnitServerIgnore "disabled ${PROJECT_NAME}")
ENDIF()

IF (IDS)
  MESSAGE(STATUS "Adding IDS ${IDS} Support")
  add_subdirectory(camera/IDS)
  FILE(REMOVE camera/IDS/UnitServerIgnore)
ELSE()
  FILE(WRITE camera/IDS/UnitServerIgnore "disabled ${PROJECT_NAME}")
ENDIF()
IF (ENABLE_MEMCACHE)
  MESSAGE(STATUS "Adding MC Support")
  add_subdirectory(camera/MemCache)
  FILE(REMOVE camera/MemCache/UnitServerIgnore)
ELSE()
  FILE(WRITE camera/MemCache/UnitServerIgnore "disabled ${PROJECT_NAME}")
ENDIF()
SET(DRIVERS_LIB ${DRIVERS_LIB} PARENT_SCOPE)
FILE(GLOB files "camera/*.h")
INSTALL(FILES ${files} DESTINATION include/driver/sensors/models/camera)
